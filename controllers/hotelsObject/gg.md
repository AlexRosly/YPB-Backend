{
"launguage": "EN",
"status": ["on verification", "active", "not active", "deleted"],
"activeLocationId": "1234567890123456789",
"country": "Ukraine",
"state": "Dnipropetrovsk reg",
"city": "Dnipro",
"district": "Central",
"district1": "maybe one more location.",
"type": {
"type": "Flat",
"stars": 1 ///optional
},
"objectName": "Hilton", //chenge key
"address": {
"country": "Ukraine",
"state": "Dnipropetrovsk",
"city": "Dnipro",
"district": "Central",
"street": "Soborna",
"house": "18",
"apartment": "1a", // not require
"zipCode": "hjhk", // zipcode
"phone": "+380569123456782",
"email": "hostelDnipro@gmail.com"
},
"description": "mknlnknknkkkbkbknjknjknk",
"photos": ["www.photo.com.ua", "www.photo1.com.ua", "www.photo2.com.ua"],
"time": {
"checkin": "20.09.2022 11.30pm",
"checkout": "21.09.2022 12.00am"
},
"services": ["id", "id", "id"],
"payments": ["kkkk", "lll", "LLLL"],
"locations": {
"dist": "Podil",
"city": "Kiev",
"state": "Kiev region",
"country": "Ukraine"
//need remove video
"video": "www.youtebe.hotel.Hilton",
"documents": ["", ""], //saved documents
"selfi": []
}

[
{"id":"1", "type":"Mieszkania"},
{"id":"2", "type":"Hostel"},
{"id":"3", "type":"Hotel apartamentowy"},
{"id":"4", "type":"Mały dom"},
{"id":"5", "type":"Willa"},
{"id":"6", "type":"Szalet"},
{"id":"7", "type":"Dom wakacyjny"},
{"id":"8", "type":"Hotel kapsułowy"},
{"id":"9", "type":"Pokój w mieszkaniu z właścicielami"},
{"id":"10", "type":"Pokój w domie z właścicielami"},
{"id":"11", "type":"Hotel"},
{"id":"12", "type":"Hotel", "stars": "1"},
{"id":"13", "type":"Hotel", "stars": "2"},
{"id":"14", "type":"Hotel", "stars": "3"},
{"id":"15", "type":"Hotel", "stars": "4"},
{"id":"16", "type":"Hotel", "stars": "5"},
{"id":"17", "type":"Hotel", "stars": "6"},
{"id":"18", "type":"Guest House"},
{"id":"19", "type":"Motel"},
{"id":"20", "type":"Hotel wypoczynkowy"}
]

{
"language":"EN",
"status": "on verification",
"type":{
"\_id":"2",
"type":"Апарт - отель"},
"objectName":"Kurort",
"address":{
"country":"q",
"state":"q",
"city":"q",
"street":"q",
"house":"q",
"apartment":"q",
"zipCode":"q",
"phone":"q",
"email":"q"
},
"description": "Расскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\nРасскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\nРасскажите про ваш объект подробнее\n
Расскажите про ваш объект подробнее\nРасскажите про ваш объект подробнее",
"photos":["blob:http://localhost:3000/f3f94c43-ea29-4091-81b5-e8698e8ba1e4"],
"time":{"checkin":"20:26","checkout":"20:26"},
"services":[
{"id":"34","service":"Аренда автомобилей"},
{"id":"39","service":"Конференц зал"}],
"payments":[
{"id":"0","type":"cash","icon":"cash","text":"Оплата на месте наличными"},
{"id":"4","type":"American Express","icon":"JCB","text":"Оплата на месте картой American Express"},
{"id":"2","type":"UnionPay","icon":"JCB","text":"Оплата на месте картой UnionPay"}],
"location":{
"\_id":"3",
"district":"Подол",
"city":"Киев",
"state":"Киевская область",
"country":"Украина"}
}

dist {
"\_id": "251331313",
"districtName":"Podil",
"cityName": "Kyiv",
"stateName": "Kyivski",
"country": "ukraine"
}

city{
"\_id": "kjknknjk",
"cityName": "Kyiv",
"stateName": "Kyivski",
"countryName": "ukraine"
}

{
1.typeOfObject: hotel, house
2.amount of bedrooms:""
fistBedromm{  
 doubleBed:[]
singleDeb:[]
} 3. typeOfbed:{
doubleBed:[]
singleDeb:[]
}
secondBedroom{
doubleBed:[]
singleDeb:[]
}
4.roomservices: [] Where save
5.animals:[], if without animals
6.description:"", min(300)max(500)
7.uniqueNumber
8.totalSquiere
9.roomSmoking
9.photo:[]
}

1. add booking Option (hotels, hostels) - ready
2. services for booking options - ready
3. Cloudinary - ready

body: [Object: null prototype] {
language: 'EN',
objectName: 'TestHotel',
description: 'testjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjtestjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj',
mapLink: 'mapLink'
},
route: Route {
path: '/',
stack: [ [Layer], [Layer], [Layer] ],
methods: { post: true }
},
files: [
{
fieldname: 'image',
originalname: 'Programmers-day.png',
encoding: '7bit',
mimetype: 'image/png',
destination: './temp/',
filename: '1668023960624-Programmers-day.png',
path: 'temp\\1668023960624-Programmers-day.png',
size: 102029
},
{
fieldname: 'image',
originalname: 'Programmers-day.png',
encoding: '7bit',
mimetype: 'image/png',
destination: './temp/',
filename: '1668023960629-Programmers-day.png',
path: 'temp\\1668023960629-Programmers-day.png',
size: 102029
},
{
fieldname: 'image',
originalname: 'Programmers-day.png',
encoding: '7bit',
mimetype: 'image/png',
destination: './temp/',
filename: '1668023960633-Programmers-day.png',
path: 'temp\\1668023960633-Programmers-day.png',
size: 102029
}
],
[Symbol(kCapture)]: false,
[Symbol(kHeaders)]: {
'user-agent': 'PostmanRuntime/7.29.2',
accept: '_/_',
'postman-token': 'ae6d7821-628e-4b9e-90c2-0db86893eea7',
host: 'localhost:5000',
'accept-encoding': 'gzip, deflate, br',
connection: 'keep-alive',
'content-type': 'multipart/form-data; boundary=--------------------------375021805327959227806605',
'content-length': '307731'
},
[Symbol(kHeadersCount)]: 16,
[Symbol(kTrailers)]: null,
[Symbol(kTrailersCount)]: 0,
[Symbol(RequestTimeout)]: undefined
} [Object: null prototype] {
language: 'EN',
objectName: 'TestHotel',
description: 'testjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjtestjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjjj',
mapLink: 'mapLink'
}

            {
                "_id": "636d5aa5e6c4ed63543c8a48",
                "type": "hotel",
                "bedrooms": 1,
                "detailedBedrooms": {
                    "firstBedroom": {
                        "doubleBed": 1,
                        "singleBed": 1
                    }
                },
                "roomServices": [
                    "KLLLL",
                    "kkk"
                ],
                "animals": [
                    "cat",
                    "dog"
                ],
                "description": "kmlmlm",
                "uniqueNumber": "kkoko",
                "totalSquare": 111,
                "smoking": true,
                "photos": [],
                "createdAt": "2022-11-10T20:10:13.287Z",
                "updatedAt": "2022-11-10T20:10:13.287Z"
            },

1. Look on function on remove image fs.unlinkSync(path) - done
2. Patch on chenge Hotel
3. Create two model in Joi for create and update
4. Verification (video, photo, selfi)

Створюємо 3 колекції: реєстр Юзерів, Отелерів, Агентів. - done
Реєстрація всіх за електронною поштою (тіки пошта 1 штука і все) - done
Важливо, що за однією поштою можна зареєструватися тіки в один із цих 3х реєстрів. - done

Для реєстра юзерів сберігаємо:
прізвище - done
ім’я - done
пошту - done
ID usera - done
мову на якій юзер юзав сайт минулого разу, на ній і відкриваємо йому сайт коли він заходит наступного разу

Для реєстра отелєрів сберігаємо:
прізвище - done
ім’я - done
пошту - done
ID hoteliera - done
мову на якій hotelier юзав сайт минулого разу, на ній і відкриваємо йому сайт коли він заходит наступного разу

Для реєстра агентів сберігаємо:
прізвище - done
ім’я - done
пошту - done
ID agenta - done

Алгоритм взаємодії беку с фронтом такий
Сторінка Входу (однаково для юзера, отельера чи агента)
Запитуємо пошту - done
Перевіряємо чи є така пошта у відповідній (юзера, отелера чи агента) колекції - done
Якщо є, то відсилаємо 4х значний код на неї - done
Код діє 2 хвилини - done
Якщо ввів - то вхід до профілю виконано. І ніколи на цьому пристрої не виходимо - доки юзер не натисне - Вийти, якщо закрив та потім відкрив знову - то юзер вже залогінений
Якщо це не супер важко то треба робити щоб юзер міг бути одночасно залогіненим з кількох пристроїв
Якщо пошти яку вказав юзер не має у відповідній колекції то - код не надсилаємо, кажемо про цю ситуацію фронту
Якщо пошти не має у відповідній колекції, але вона є у одній із двох інших - то також кажемо про це фронту і кажемо в якій вона є

Сторінка реєстрації (однаково для юзера, отельера чи агента)

1. Запитуємо пошту, прізвище, ім'я - done
2. Перевіряємо чи є така пошта у всіх трьох колекціях: юзера, отельера чи агента. Прізвище та ім'я ніяк не перевіряємо. - done
3. Якщо такої пошти не зареєстровано раніше в жодній колекції, то відсилаємо перевірочний код на неї, який діє 2 хв (відіслали і сказали про це фронту, щоб він відобразив) - done
4. Якщо така пошта зареєстрована вже в одній із колекцій - то кажемо про це фронту і кажемо фронту в якій саме колекції вона вже зареєстрована. - done

Slawa email for send mail.
yourpricebooking@gmail.com
pass: Pobeda306)yourpricebooking80462225440

npm install redis connect-redis express-session - done

ендпоінти реєстрації
baseUrl: https://server-your-price-booking.onrender.com/
a. Для Агента.

1. Перевіряємо чи є така пошта у відповідній (юзера, отелера чи агента) колекції
   Якщо є, то відсилаємо 4х значний код на неї
   Запит робимо на: api/auth-agents/check-candidate
   метод POST
   body:
   {
   "lastName":"agent5",
   "firstName":"ivan",
   "email":"agent5_ivan@gmail.com"
   }

2. Якщо такої пошти не зареєстровано раніше в жодній колекції, то відсилаємо перевірочний код на неї, який діє 2 хв (відіслали і сказали про це фронту, щоб він відобразив) - Перевірочний код приходить на реальну пошту. Надсилання перевірочного коду налаштоване.

3. Після отримання коду робимо запит на додавання на: api/auth-agents/signUp
   метод POST
   body:
   {
   "lastName":"agent5",
   "firstName":"ivan",
   "email":"agent5_ivan@gmail.com"
   "secretCode":"2837"
   }

b. Для Юзера

1. Перевіряємо чи є така пошта у відповідній (юзера, отелера чи агента) колекції
   Якщо є, то відсилаємо 4х значний код на неї
   Запит робимо на: api/auth-users/check-candidate
   метод POST
   body:
   {
   "lastName":"user1",
   "firstName":"ivan",
   "email":"user1_ivan@gmail.com",
   "language": "EN"
   }

2. Якщо такої пошти не зареєстровано раніше в жодній колекції, то відсилаємо перевірочний код на неї, який діє 2 хв (відіслали і сказали про це фронту, щоб він відобразив) - Перевірочний код приходить на реальну пошту. Надсилання перевірочного коду налаштоване.

3. Після отримання коду робимо запит на додавання на: api/auth-users/signUp
   метод POST
   body:
   {
   "lastName":"user1",
   "firstName":"ivan",
   "email":"user1_ivan@gmail.com",
   "language": "EN",
   "secretCode":"3963"
   }

с. Для отельера

1. Перевіряємо чи є така пошта у відповідній (юзера, отелера чи агента) колекції
   Якщо є, то відсилаємо 4х значний код на неї
   Запит робимо на: api/auth-hoteliers/check-candidate
   метод POST
   body:
   {
   "lastName":"hotelier15",
   "firstName":"ivan",
   "email":"hotelier15_ivan@gmail.com",
   "language": "EN"
   }

2. Якщо такої пошти не зареєстровано раніше в жодній колекції, то відсилаємо перевірочний код на неї, який діє 2 хв (відіслали і сказали про це фронту, щоб він відобразив) - Перевірочний код приходить на реальну пошту. Надсилання перевірочного коду налаштоване.

3. Після отримання коду робимо запит на додавання на: api/auth-hoteliers/signUp
   метод POST
   body:
   {
   "lastName":"hotelier15",
   "firstName":"ivan",
   "email":"hotelier15_ivan@gmail.com",
   "language": "EN",
   "secretCode":"9914"
   }

   updateMany({langCode: "EN"}, {$set: {langCode: "en"}})
   updateMany({dbLangCode: "EN"}, {$set: {dbLangCode: "en"}})

4. Код прийшов але не вірний - не в тій колекції записан користувач
   Відповідь на твоє питання. Робив відповідно Т:
   Сторінка Входу (однаково для юзера, отельера чи агента)
   Запитуємо пошту - done
   Перевіряємо чи є така пошта у відповідній (юзера, отелера чи агента) колекції - done
   Якщо є, то відсилаємо 4х значний код на неї - done
   Тому коли ти намагаєшся з пошти юзера залогінитися під агентом то відсилає код. Але код не просто відсилає цей код привязан до пошти в БД. І коли ти вводиш код бек йде в БД агента та шукає агента з відповідною поштою, не знаходить та вертає помилку. Ця помилка спрацювує на фронті як не вірний код.

   Проте що переграли, мені неповідомляли.

   Можу поправити так:

   1. Коли логінимся як юзер з ел.поштою юзера то перевіряєм в БД юзера, якщо є відправляю код. Якщо не має кажу що не має токого юзера.
   2. Коли логінимся як агент з ел.поштою юзера то перевіряєм в БД агента, якщо є відправляю код. Якщо не має кажу, що не має такої пошти.
   3. Коли логінимся як агент з ел.поштою юзера то перевіряєм в БД агента, якщо є відправляю код. Якщо не має кажу, що не має такої пошти.

   Код діє 2 хвилини - done
   Якщо ввів - то вхід до профілю виконано. І ніколи на цьому пристрої не виходимо - доки юзер не натисне - Вийти, якщо закрив та потім відкрив знову - то юзер вже залогінений
   Якщо це не супер важко то треба робити щоб юзер міг бути одночасно залогіненим з кількох пристроїв
   Якщо пошти яку вказав юзер не має у відповідній колекції то - код не надсилаємо, кажемо про цю ситуацію фронту
   Якщо пошти не має у відповідній колекції, але вона є у одній із двох інших - то також кажемо про це фронту і кажемо в якій вона є

В підсумку з мене:

1.  Зробити помилку на фронті при реєстрації
2.  Надіслати помилку що час вийшов - done
    {
    "status": "error",
    "code": 409,
    "message": "Code is invalid",
    }
3.  Зробити помилку по не вірному код та не вірній пошті - done
    {
    status: "error",
    code: 409,
    message: "Code is wrong",
    }
4.  Змінити час коду на 3 хвилини - done

5.  Видалити createSignInCode from middlewares

EN - en
PL - pl
UA - uk
RU - ru
////////////////////////////

1. Каталог користувача:
   - Поставити вибір спалень та календар
   - Перевірити карточку локації:
     - прибрати підкреслювання
     - перевірити як за макетом
   - Стрінку обєкта зробити в ще одній інтерпритації (показати на макеті). Зараз є с каталогу - треба пропозиція в каьінеті юзера
2. Каталог отельера:
   - пофіксити кнопку зареєструвати обєкт
   - пофіксит текст над кнопкою
3. Бокове меню отельера косметичні моменти - пофіксити CSS
4. Бокове меню юзера косметичні моменти - пофіксити
5. Кабінет юзера:
   - календар поплив - пофіксити
6. Адмінка веріфікація

   - Робимо десктоп на англ.мові не зовсім зрозуміло що саме робити. Треба окреме відео/ ТЗ по мекету.

7. реєстрація

В случае транлитерации текста в урл online на данном сайте используется следующий алгоритм:
ї = i, є = e, а = a, б = b, в = v, г = g, д = d, е = e, ё = yo, ж = zh, з = z, и = i, й = y, к = k, л = l, м = m, н = n, о = o, п = p, р = r, с = s, т = t, у = u, ф = f, х = h, ц = c, ч = ch, ш = sh, щ = shch, ъ = , ы = y, ь = , э = e, ю = yu, я = ya, Ї = I, Є = E, А = A, Б = B, В = V, Г = G, Д = D, Е = E, Ё = YO, Ж = ZH, З = Z, И = I, Й = Y, К = K, Л = L, М = M, Н = N, О = O, П = P, Р = R, С = S, Т = T, У = U, Ф = F, Х = H, Ц = C, Ч = CH, Ш = SH, Щ = SHCH, Ъ = , Ы = Y, Ь = , Э = E, Ю = YU, Я = YA
Все символы и сочетания символов приводятся к нижнему регистру.
Пробел, табуляция и такие знаки, как : ; . , ? ! @ # $ % ^ & \* ~ + - = №, а так же скобки ( ) [ ] { } < > - заменяются на url-разделитель -.
Несколько url-разделителей подряд ----- - заменяются на один -.
Кавычки ' " ` - удаляются из url.

1. add trim to createNewPages to const getString
2. const MAIN_DOMAIN perenesti to env - done
3. cyrillicToTranslit vinesti in middlewares
4. pageCatalog vinesti

5. Додати видалення акаунту по юзеру, отельєру, агенту
   в Бд додати статуси активний, видалити - видалений.
6. Статуси при реєстрації додавити
7. к0ли логініться перевірити статус, якщо видалений - зареєструйся
8. знайти його в БД та оновити інфо та статус.
   ////////////////////////////////////////////////////////////////////////////////////////
9. description Строка в англ варианте с большой буквы начало - done
10. в все ссылки при создании добавлять в конце код языка на которой создается ссылка - done
11. в ответе получить все с языка возвращать в дате массив -done
12. сделать метод который возращает по инфу по коду языка и ссылке
    catalogForHotelier api change models - done

1.access to admin make on token
2.send Email
3.Cookie

1.  Добавить международное название района при создании страницы -done
    /04.06.23 /
2.  По ИД отдельера получить все названия обьектов - done
3.  Один общий запрос за всеми обьектами - done
4.  Додавить в обьект верификацию (1, 2 номера телефона, дату след. верифик), изменяет статус на активный, не обходимость следующей верификации не нужна.
5.  добавить декоде урл в 3 параметра - done
6.  Свагер
7.  check registration

Agent додати мову як у готельєра - done
Додати валюту в бонуси - done
В варіанти бронювань додати ід обьекта - done
зробити ендпоінт по вибрці варіантів бронювань ід обєкта + ід отельєра
закрити можливість додавати обєкти та варіанти без логінації - done

Саша вітаннячко! Коротке ТЗ як раз по темі наче і треба вже.

1. 1. У відповід яка приходе з сервака при логінаці Юзера додай поля (просто поки поля - потім підтягнемо туди інфу) :
1. Booking Karma (по дефолту - 0); - done

1. Registration date (ну це дата реєстрації можеш зразу прикрутити, нехай вона буде одна і після видалення а потім поновлення аккаунта - має бути та сама єдина дата) - We have creiting account date, and change status?

1. У відповід яка приходе з сервака при логінаці Отелєра додай поля (просто поки поля - потім підтягнемо туди інфу) :
1. Rating (по дефолту - 0); - done
1. Registration date (ну це дата реєстрації можеш зразу прикрутити, нехай вона буде одна і після видалення а потім поновлення аккаунта - має бути та сама єдина дата) - The same question
1. Your objects (по дефолту - 0); -done
1. Current bookings (по дефолту - 0); - done

1. 1. У відповід яка приходе з сервака при логінаці Агента додай поля (просто поки поля - потім підтягнемо туди інфу):
1. Registration date (ну це дата реєстрації можеш зразу прикрутити, нехай вона буде одна і після видалення а потім поновлення аккаунта - має бути та сама єдина дата) -

1. Додати ендпоінт по вертанню всіх готельєрів в адмінку - done
1. зробити ендпоінт по статистику з дефолтними даними - done

Треба ендпоінт який буде відображати дані з БД: 1. скіки обєктів на верифікації (по деф 0). 2.Кілкіст: юзерів, отелєрів, агентів (коли аккаунт активний, коли видалений - то тут не відображаємо) 3. Число доданий на сервіс обєктів - які мают статус верифікований. 4. Число варіантів бронювання у верифікованих обєктах (по дефолту 0 постав поки) ДЯКУЮ
